{% extends 'app/header.html' %}
{% load static %}
<!DOCTYPE html>
<html lang="en">
  <head>
    <title>Healme | Book appointments</title>
    
  </head>
  <body>
{% block content %}
<section class="hero-wrap hero-wrap-2" style="background-image: url();" data-stellar-background-ratio="0.5">
      <div class="overlay"></div>
      <div class="container">
        <div class="row no-gutters slider-text align-items-center justify-content-center">
          <div class="col-md-9 ftco-animate text-center">
            <h1 class="mb-2 bread" style="font-size: 80px">Your Appointments</h1>
            <p class="breadcrumbs"><span></span></p>
          </div>
        </div>
      </div>
    </section>

      
      <div class="da" style="background-image: url({% static 'app/images/doctorback.jpg' %});">
      <div class="container">
        <div class="row justify-content-center mb-5 pb-2">
          <div class="col-md-8 text-center heading-section ftco-animate">
            <br><br>
            <h2 class="mb-4">Manage Appointments</h2>
            <span class="subheading" style="text-align: center;">
            </span>
            
        {% if request.session.fname %}        
          <div class="dh" style="text-align: center; margin-top: 10px ">
            <table border="1px" id="example" class="display" style="empty-cells: show;margin-left: auto; margin-right: auto;">
              <tr>
                <th>Sr No</th>
                <th>Patient Name</th>
                <th>Date</th>
                <th>Time</th>
                <th>Phone</th>
                <th>Message</th>
                <th>Cancel appointment</th>
              </tr>

  {% for i in appointment %}
              <tr>
                <td></td>
                <td>{{i.patient.fname}}</td>
                <td>{{i.date}}</td>
                <td>{{i.time}}</td>
                <td>{{i.phone}}</td>
                <td>{{i.message}}</td>
                <td><button type="button" name="cancel">Cancel</button></td>
              </tr>
            {% endfor %}
            </table>
            </div>
            {% else %}
                  <div class="col-lg-6">
                  <div class="services-2 d-flex">
                    <p class="button-custom order-lg-last mb-0 " style="margin-top: 10px; padding-left: 300px"><a href="{% url 'login' %}" class="btn btn-secondary py-3 px-3">LOGIN TO VIEW APPOINTMNET</a></p>
                  </div>
                </div>
              {% endif %}
          </div>
        </div>  
      </div>



   {% include 'app/footer.html' %}


  <script src="{% static 'app/js/jquery.min.js' %}"></script>
  <script src="{% static 'app/js/jquery-migrate-3.0.1.min.js' %}"></script>
  <script src="{% static 'app/js/popper.min.js' %}"></script>
  <script src="{% static 'app/js/bootstrap.min.js' %}"></script>
  <script src="{% static 'app/js/jquery.easing.1.3.js' %}"></script>
  <script src="{% static 'app/js/jquery.waypoints.min.js' %}"></script>
  <script src="{% static 'app/js/jquery.stellar.min.js' %}"></script>
  <script src="{% static 'app/js/owl.carousel.min.js' %}"></script>
  <script src="{% static 'app/js/jquery.magnific-popup.min.js' %}"></script>
  <script src="{% static 'app/js/aos.js' %}"></script>
  <script src="{% static 'app/js/jquery.animateNumber.min.js' %}"></script>
  <script src="{% static 'app/js/bootstrap-datepicker.js' %}"></script>
  <script src="{% static 'app/js/jquery.timepicker.min.js' %}"></script>
  <script src="{% static 'app/js/scrollax.min.js' %}"></script>
  <script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyBVWaKrjvy3MaE7SQ74_uJiULgl1JY0H2s&sensor=false"></script>
  <script src="{% static 'app/js/google-map.js' %}"></script>
  <script src="{% static 'app/js/main.js' %}"></script> 
  <script>
    $(document).ready(function() {
    var t = $('#example').DataTable( {
        "columnDefs": [ {
            "searchable": false,
            "orderable": false,
            "targets": 0
        } ],
        "order": [[ 1, 'asc' ]]
    } );
 
    t.on( 'order.dt search.dt', function () {
        t.column(0, {search:'applied', order:'applied'}).nodes().each( function (cell, i) {
            cell.innerHTML = i+1;
        } );
    } ).draw();
} );
    </script>   
    {% endblock %}

  </body>
    }
</html>